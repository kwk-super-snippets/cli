#!/usr/bin/env bash

OS=$(uname | tr '[:upper:]' '[:lower:]')
ARCH=amd64

# CACHE THE BIN PATH AS NPM SLOWS DOWN CALL TO KWK
if [[ ! -e ./binpath.txt ]]; then
    echo $(npm config get prefix)/lib/node_modules/kwk-cli/bin > ./binpath.txt
fi
BINPATH=$(cat ./binpath.txt)

/bin/bash -c "${BINPATH}/kwk-${OS}-${ARCH} $@"