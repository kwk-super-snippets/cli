syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.kwk.service.users";
option java_outer_classname = "UsersRpc";

package usersRpc;

service UsersRpc {
    rpc SignIn (SignInRequest) returns (UserResponse) {}
    rpc SignUp (SignUpRequest) returns (UserResponse) {}
    rpc List (ListRequest) returns(UserListResponse) {}
}

message SignUpRequest {
    string username = 1;
    string email = 2;
    string password = 3;
}

message SignInRequest {
    string username = 1;
    string password = 2;
    string email = 3;
}

message ListRequest {
    int64 since = 1;
    int64 size = 2;
}

message UserListResponse {
    repeated UserResponse items = 1;
    int64 total = 2;
    int64 since = 3;
    int64 size = 4;
}

message UserResponse {
    string id = 1;
    string username = 2;
    string email = 3;
    string token = 4;
    int64 snipCount =5;
    int64 runCount = 6;
    int64 created = 7;
    int64 clonedCount = 8;
}

