syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.kwk.service.messages";
option java_outer_classname = "MessagesRpc";

package messageRpc;

service MessageRpc {
    rpc Inbox (InboxRequest) returns(InboxResponse) {}
    rpc MarkMessage (MarkMessageRequest) returns (MarkMessageResponse) {}
}

message MarkMessageRequest {
    bool read = 1;
}

message MarkMessageResponse {
}

message InboxRequest {
    string username = 1;
    int64 since = 2;
    int64 size = 3;
}

message InboxResponse {
    repeated Message items = 1;
    int64 total = 2;
    int64 since = 3;
    int64 size = 4;
}

message Message {
    string text = 1;
    bool read = 2;
    string sender = 3;
    int64 created =  4;
}

